<div class="dashboard-container">
    <mat-card class="device-card">
        <mat-card-header>
            <mat-icon mat-card-avatar>bluetooth_connected</mat-icon>
            <mat-card-title>{{ (device$ | async)?.name || 'Unknown Device' }}</mat-card-title>
            <mat-card-subtitle>ID: {{ (device$ | async)?.id }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-actions align="end">
            <button mat-stroked-button color="warn" (click)="disconnect()">
                <mat-icon>bluetooth_disabled</mat-icon> Disconnect
            </button>
        </mat-card-actions>
    </mat-card>

    <div class="services-list">
        <h3>Services</h3>
        <mat-accordion>
            <mat-expansion-panel *ngFor="let service of services">
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        {{ service.uuid }}
                    </mat-panel-title>
                    <mat-panel-description>
                        Primary: {{ service.isPrimary }}
                    </mat-panel-description>
                </mat-expansion-panel-header>

                <p>Characteristics will appear here (implementation pending)</p>
                <!-- TODO: List characteristics -->
            </mat-expansion-panel>
        </mat-accordion>

        <div *ngIf="services.length === 0" class="no-services">
            <p>No services found or loading...</p>
        </div>
    </div>
</div>